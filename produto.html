<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detalhes do Produto - Pet Feliz</title>
  <link rel="stylesheet" href="css/style.css">
</head>
  <header>
    <div class="container">
      <h1>üêæ Pet Feliz</h1>
      <nav>
        <a href="index.html">In√≠cio</a>
        <a href="produto.html">Produtos</a>
        <a href="carrinho.html">Carrinho</a>
        <a href="login.html" id="loginLink">Entrar</a>
        <span id="userLogado"></span>
      </nav>
    </div>
  </header>

  <section class="produto-detalhe" id="detalhesProduto"></section>

  <script>
    window.onload = function() {

      const urlParams = new URLSearchParams(window.location.search);
      const produtoId = urlParams.get('produto');

      exibirProduto(produtoId);
    }

    function exibirProduto(produtoId) {
      const detalhesProduto = document.getElementById('detalhesProduto');

      let produtoHTML = '';

      switch (produtoId) {
        case 'ra√ß√£o-premium':
          produtoHTML = `
            <img src="img/ra√ß√£o.jpg" alt="Ra√ß√£o Premium">
            <div class="info">
              <h2>Ra√ß√£o Premium - 10kg</h2>
              <p>Composta por ingredientes selecionados para uma nutri√ß√£o completa. Ideal para c√£es adultos de m√©dio e grande porte.</p>
              <span class="preco">R$ 89,90</span>
                <div class="quantidade-container">
                  <label for="quantidade">Quantidade:</label>
                  <input type="number" id="quantidade-racao" min="1" value="1">
                </div>
              <button onclick="adicionarAoCarrinho('Ra√ß√£o Premium - 10kg', 89.90, document.getElementById('quantidade-racao').value)">Adicionar ao Carrinho</button>
            </div>
          `;
          break;
          
        case 'coleira-estilosa':
          produtoHTML = `
            <img src="img/coleira.jpeg" alt="Coleira Estilosa">
            <div class="info">
              <h2>Coleira Estilosa</h2>
              <p>Uma coleira estilosa de couro vermelha e bege por dentro, com um estilo de um osso com diamantes.</p>
              <span class="preco">R$ 39,90</span>
                <div class="quantidade-container">
                    <label for="quantidade">Quantidade:</label>
                    <input type="number" id="quantidade-coleira" min="1" value="1">
                  </div>
              <button onclick="adicionarAoCarrinho('Coleira Estilosa', 39.90, document.getElementById('quantidade-coleira').value)">Adicionar ao Carrinho</button>
            </div>
          `;
          break;

        case 'brinquedo-interativo':
          produtoHTML = `
            <img src="img/brinquedo.jpeg" alt="Brinquedo Interativo">
            <div class="info">
              <h2>Brinquedo Interativo</h2>
              <p>Um brinquedo interativo para o seu pet brincar e morder o dia todo.</p>
              <span class="preco">R$ 49,90</span>
                <div class="quantidade-container">
                  <label for="quantidade">Quantidade:</label>
                  <input type="number" id="quantidade-brinquedo" min="1" value="1">
                </div>
              <button onclick="adicionarAoCarrinho('Brinquedo Interativo', 49.90, document.getElementById('quantidade-brinquedo').value)">Adicionar ao Carrinho</button>
            </div>
          `;
          break;

        case 'cama-pet':
          produtoHTML = `
            <img src="img/cama.jpeg" alt="Cama Pet Confort√°vel">
            <div class="info">
              <h2>Cama Pet Confort√°vel</h2>
              <p>Uma cama confort√°vel para o seu pet dormir, tamanhos vari√°veis.</p>
              <span class="preco">R$ 159,90</span>
                <div class="quantidade-container">
                  <label for="quantidade">Quantidade:</label>
                  <input type="number" id="quantidade-cama" min="1" value="1">
                </div>
              <button onclick="adicionarAoCarrinho('Cama Pet Confort√°vel', 159.90 document.getElementById('quantidade-cama').value)">Adicionar ao Carrinho</button>
            </div>
          `;
          break;
        default:
          produtoHTML = `<p>Produtos diversos para o seu PET.</p>`;
      }

      detalhesProduto.innerHTML = produtoHTML;
    }

    function adicionarAoCarrinho(nomeProduto, precoProduto, quantidade) {
  quantidade = parseInt(quantidade) || 1;

  let carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
  const produtoExistente = carrinho.find(item => item.nome === nomeProduto);

  if (produtoExistente) {
    produtoExistente.quantidade += quantidade;
  } else {
    carrinho.push({ nome: nomeProduto, preco: precoProduto, quantidade });
  }

  localStorage.setItem("carrinho", JSON.stringify(carrinho));

  const total = carrinho.reduce((soma, item) => soma + item.preco * item.quantidade, 0);
  localStorage.setItem("total", total.toFixed(2));

  alert(`${quantidade}x ${nomeProduto} foi/foram adicionados ao carrinho!`);
}


    const usuarioLogado = localStorage.getItem("usuarioLogado");
    const loginLink = document.getElementById("loginLink");
    const userLogado = document.getElementById("userLogado");

    if (usuarioLogado) {
      if (loginLink) loginLink.style.display = "none";
      if (userLogado) {
        userLogado.innerHTML = `
          Bem-vindo, ${usuarioLogado} |
          <a href="#" onclick="logout()" style="color: yellow;">Sair</a>
        `;
      }
    }

    function logout() {
      localStorage.removeItem("usuarioLogado");
      window.location.href = "index.html";
    }
  </script>

<section class="produtos-diversos">
  <h2>Produtos Diversos</h2>
  <div class="lista-produtos">
    <div class="produto">
      <img src="img/capa-chuva.jpg" alt="Capa de Chuva para Pet">
      <h3>Capa de Chuva para Pet</h3>
      <p>Proteja seu pet nos dias chuvosos com esta capa confort√°vel e estilosa.</p>
      <span class="preco">R$ 59,90</span>
      <a href="detalhes.html?produto=capa-chuva" class="botao">Ver Detalhes</a>
    </div>

    <div class="produto">
      <img src="img/oculos.jpg" alt="√ìculos de Sol para Pet">
      <h3>√ìculos de Sol para Pet</h3>
      <p>Estilo e prote√ß√£o para os olhos do seu pet durante passeios ao ar livre.</p>
      <span class="preco">R$ 29,90</span>
      <a href="detalhes.html?produto=oculos-pet" class="botao">Ver Detalhes</a>
    </div>

    <!-- Voc√™ pode adicionar mais produtos aqui -->
  </div>
</section>

  <footer>
    <p>&copy; 2025 Pet Feliz - Todos os direitos reservados</p>
  </footer>
</body>
</html>

